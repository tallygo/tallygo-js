<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>TallyGo Map</title>
    <meta name="description" content="TallGo Map">
    <meta name="author" content="TallyGo">
    <script src="node_modules/mapbox-gl/dist/mapbox-gl-dev.js"></script>
    <link rel="stylesheet" media="screen" href="node_modules/mapbox-gl/dist/mapbox-gl.css" />
    <script src="dist/browser.js"></script>
  </head>
  <body>
    <div id="map"></div>
    <script>
      let map = new tallyGoKit.Map({
        container: "map",
        apiToken: "<YOUR API TOKEN>"
      })
      let nav = new mapboxgl.NavigationControl()
      map.glMap.addControl(nav, 'top-left')

      map.glMap.on('load', function() {
        let glMap = this
        tallyGoKit.loadJSON('spec/fixtures/route.json', function(response) {
          let route = new tallyGoKit.Route(JSON.parse(response))
          let routePresenter = new tallyGoKit.RoutePresenter(glMap, route)
          routePresenter.draw()
        })
      })
    </script>
  </body>
</html>
